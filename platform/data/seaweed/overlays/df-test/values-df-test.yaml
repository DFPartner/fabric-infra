# Warnings:
# - no 'seaweed' root, starts directly with the content
# - objects are just strings so the pipe is necessary
s3:
  # Mount the secret
  extraVolumeMounts: |
    - name: s3-auth-config
      mountPath: /etc/seaweedfs
      readOnly: true

  # Point Seaweed to the mounted file
  authConfig: /etc/seaweedfs/s3_config.json

  extraVolumes: |
    - name: s3-auth-config
      secret:
        secretName: seaweedfs-s3-secret